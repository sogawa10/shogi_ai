# 将棋AI

## 概要

このプロジェクトは，将棋AIを自前実装することを目的とした学習用プロジェクトです．**将棋のルール・状態管理機能**，**ai機能**，そして**GUI機能**を段階的に実装します．既存の将棋エンジンを使用することなく，基礎構造から実装している点が特徴です．

将棋のルールとして，**二歩の禁止**，**行き所のない駒の禁止**，**打ち歩詰めの禁止**，**千日手判定**，**入玉宣言法**を実装しました．

## 必要なライブラリとソフトウェア

このプロジェクトを動かすためには、以下のライブラリが必要です．

- fastapi
- uvicorn
- pydantic
- psycopg2

このプロジェクトを動かすためには、以下のソフトウェアが必要です．

- postgresql

## 使い方

コマンドライン上で対局を行う場合は，以下を参考にしてください．

1. 次の対局スクリプトを直接実行することで，人間同士の対戦や，人間対AIの対戦を行うことができます．
   - python -m shogi_ai
2. 駒を動かしたい場合は，**「5453」** のように，元居る場所の x座標，y座標，進みたい場所の x座標，y座標 を入力してください．成りたい場合は，**「5453成」** のように，最後に「成」と追加してください．
3. 駒を打ちたい場合は，**「歩55」** のように，打ちたい駒の名前と，進みたい場所の x座標，y座標 を入力してください．

## システムの全体像

![Image](https://github.com/user-attachments/assets/6f1ec107-2347-49db-ae23-745df532a6e7)

## APIの仕様

third-partyの将棋AIを作成する際は，以下の仕様に準じてください．

1. APIの入力は**棋譜**，出力は**手**としてください．
2. **手**の記述は以下の通りとします．間にスペースを入れず，数字と括弧は半角にしてください．
   - 手番 → 先手は **▲** ，後手は **△**
   - 駒の種類 → **王** ，**玉** ，**歩（と）**，**飛（龍）**，**角（馬）**，**金**，**銀（全）**，**桂（圭）**，**香（杏）**
   - 移動 → **手番 + 移動後の地点 + 駒 + (移動前の地点)**\
   例：▲66歩(67)，△81杏(91)
   - 成る → **手番 + 移動後の地点 + 駒 + 成 + (移動前の地点)**\
   例：▲22角成(88)
   - 打つ → **手番 + 移動後の地点 + 駒 + 打**\
   例：△74銀打
3. **棋譜**は，手を半角スペースで区切りながら，順に並べたものとします．\
例：▲66歩(67) △34歩(33) ▲26歩(27) △32金(41)
4. 将棋AIとは**HTTPS**で通信し，データ形式は**JSON**，エンコーディングは**UTF-8**を想定しています．\
リクエスト例： {"kifu": "▲66歩(67) △34歩(33) ▲26歩(27) △32金(41)"}\
レスポンス例： {"move": "▲77角(88)"}
5. APIは，サーバーがリクエストを送信してから，1分以内に有効なレスポンスを返却してください．

## ライセンス

このプロジェクトは，MITライセンスの下でライセンスされています．
